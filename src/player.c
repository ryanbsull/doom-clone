#include "../include/player.h"

int map[] = {
		32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,
		32, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,32,
		32, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,32,
		32, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,32,
		32, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,32,
		32, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,32,
		32, 0, 0, 0, 0, 0,32,32,32,32, 0, 0, 0, 0, 0,32,
		32, 0, 0, 0, 0, 0,32, 0,32,32, 0, 0, 0, 0, 0,32,
		32, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,32,
		32, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,32,
		32, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,32,
		32, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,32,
		32, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,32,
		32, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,32,
		32, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,32,
		32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,
};

void move(player* p, int dir) {
	p->pos.x += cos((float)p->angle * 2 * M_PI / 360) * dir * MVMT_SPEED;
	p->pos.y += sin((float)p->angle * 2 * M_PI / 360) * dir * MVMT_SPEED;
}

void rotate(player* p, int dir) {
	p->angle = (p->angle + ANGULAR_SPEED * dir) % 360;
}
